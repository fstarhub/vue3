<!--
 * @Description: 
 * @Version: 3.0
 * @Autor: 冯帅
 * @Date: 2021-07-13 19:34:51
 * @LastEditors: 冯帅
 * @LastEditTime: 2021-07-14 00:26:58
-->
## 原型
1. 为什么 typeof 判断 null 是 Object 类型？
2. Function 和 Object 是什么关系？
3. new 关键字具体做了什么？手写实现。
4. prototype 和__proto__是什么关系？什么情况下相等？
5. ES5 实现继承有几种方式，优缺点是啥
6. ES6 如何实现一个类
7. ES6 extends 关键字实现原理是什么

![原型图](https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg2018.cnblogs.com%2Fblog%2F939316%2F201809%2F939316-20180927095306645-1975780154.png&refer=http%3A%2F%2Fimg2018.cnblogs.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1628769155&t=dde49164112636162fa9b36cfbfd9ede)

* function Foo 就是一个方法，比如JavaScript 中内置的 Array、String 等
* function Object 就是一个 Object
* function Function 就是 Function
* 以上都是 function，所以 .__proto__都是Function.prototype
* 再次强调，String、Array、Number、Function、Object都是 function

### 函数对象和普通对象
老话说，万物皆对象。而我们都知道在 JavaScript 中，创建对象有好几种方式，比如对象字面量，或者直接通过构造函数 new 一个对象出来：

**都是对象，却存在着差异性**

其实在 JavaScript 中，我们将对象分为函数对象和普通对象。**所谓的函数对象，其实就是 JavaScript 的用函数来模拟的类实现**。JavaScript 中的 Object 和 Function 就是典型的函数对象。

```js
  function fun1(){};
  const fun2 = function(){};
  const fun3 = new Function('name','console.log(name)');

  const obj1 = {};
  const obj2 = new Object();
  const obj3 = new fun1();
  const obj4 = new new Function();


  console.log(typeof Object);//function
  console.log(typeof Function);//function
  console.log(typeof fun1);//function
  console.log(typeof fun2);//function
  console.log(typeof fun3);//function
  console.log(typeof obj1);//object
  console.log(typeof obj2);//object
  console.log(typeof obj3);//object
  console.log(typeof obj4);//object
```

上述代码中，obj1，obj2，obj3，obj4都是普通对象，fun1，fun2，fun3 都是 Function 的实例，也就是函数对象

所以可以看出，所有 Function 的实例都是函数对象，其他的均为普通对象，其中包括 Function 实例的实例。

![](https://user-gold-cdn.xitu.io/2019/10/31/16e1f9f4623fc5be?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)


**JavaScript 中万物皆对象，而对象皆出自构造（构造函数）。**

上图中，你疑惑的点是不是 **Function 和 new Function 的关系**。其实是这样子的：

`Function.__proto__ === Function.prototype//true`

#### __proto__
> 首先我们需要明确两点：
1️、 **__proto__和constructor是对象独有的。**
2、  **prototype属性是函数独有的**

**但是在 JavaScript 中，函数也是对象，所以函数也拥有__proto__和 constructor属性。**

**__proto__属性既不能被 for in 遍历出来，也不能被 Object.keys(obj) 查找出来。**

访问对象的 obj.__proto__ 属性，默认走的是 Object.prototype 对象上 __proto__ 属性的 get/set 方法。
```js
  Object.defineProperty(Object.prototype,'__proto__',{
    get(){
      console.log('get')
    }
  });

  ({}).__proto__;
  console.log((new Object()).__proto__);
```

这里我们需要知道的是，**__proto__是对象所独有的，并且__proto__是一个对象指向另一个对象**，也就是他的原型对象。我们也可以理解为父类对象。它的作用就是当你在访问一个对象属性的时候，如果该对象内部不存在这个属性，那么就回去它的__proto__属性所指向的对象（父类对象）上查找，如果父类对象依旧不存在这个属性，那么就回去其父类的__proto__属性所指向的父类的父类上去查找。以此类推，知道找到 null。而这个查找的过程，也就构成了我们常说的**原型链**。

#### prototype
















****
### 摘自JavaScript高级程序设计:
> 继承是OO语言中的一个最为人津津乐道的概念.许多OO语言都支持两种继承方式: **接口继承 和 实现继承**.接口继承只继承方法签名,而实现继承则继承实际的方法.由于js中方法没有签名,在ECMAScript中无法实现接口继承.ECMAScript只支持实现继承,而且其 实现继承 主要是依靠原型链来实现的.
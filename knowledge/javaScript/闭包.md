<!--
 * @Description: 
 * @Version: 3.0
 * @Autor: 冯帅
 * @Date: 2021-07-07 22:39:15
 * @LastEditors: 冯帅
 * @LastEditTime: 2021-07-07 23:19:28
-->

## 闭包
闭包是一个可以访问外部作用域的内部函数，即使这个外部作用域已经执行结束。

### 作用域
作用域决定这个变量的生命周期及其可见性。 当我们创建了一个函数或者 {} 块，就会生成一个新的作用域。需要注意的是，通过 var 创建的变量只有函数作用域，而通过 let 和 const 创建的变量既有函数作用域，也有块作用域。

### 嵌套作用域
在 Javascript 中函数里面可以嵌套函数，如下：

```js
  (function autorun(){
    let x = 1;
    function log(){ 
       console.log(x); 
    }
    log();
  })();
```

log() 即是一个嵌套在 autorun() 函数里面的函数。在 log() 函数里面可以通过外部函数访问到变量 x。此时，log() 函数就是一个闭包。

闭包就是内部函数，我们可以通过在一个函数内部或者 {} 块里面定义一个函数来创建闭包。
### 外部函数作用域 
内部函数可以访问外部函数中定义的变量，即使外部函数已经执行完毕。如下：

```js
(function autorun(){
  let x = 1;
  setTimeout(function log(){
    console.log(x);
  }, 10000);
})();
```

并且，内部函数还可以访问外部函数中定义的形参，如下：

```js
(function autorun(p){
  let x = 1;
  setTimeout(function log(){
    console.log(x);//1
    console.log(p);//10
  }, 10000);
})(10);
```

### 外部块作用域
内部函数可以访问外部块中定义的变量，即使外部块已执行完毕，如下：

```js
{
  let x = 1;
  setTimeout(function log(){
    console.log(x);
  }, 10000);
}
```

### 词法作用域


